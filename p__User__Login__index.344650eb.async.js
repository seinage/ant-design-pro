"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{99565:function(G,C){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};C.Z=e},77867:function(G,C,e){e.r(C),e.d(C,{default:function(){return Ce}});var K=e(58357),x=e.n(K),Q=e(86378),L=e.n(Q),X=e(71977),T=e.n(X),Y=e(30577),E=e.n(Y),$=e(40456),w=e(7594),J=e(4084),s=e(45645),f=e(50959),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},_=q,ee=e(17536),O=function(a,n){return f.createElement(ee.Z,(0,s.Z)((0,s.Z)({},a),{},{ref:n,icon:_}))};O.displayName="LockOutlined";var te=f.forwardRef(O),R=e(18216),ne=e(65089),re=e(61428),ae=e(84875),oe=e.n(ae),se=e(78660),I=e(58457),ie=e(98445),le=function(a){var n;return n={},(0,I.Z)(n,a.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:a.colorTextSecondary,fontSize:a.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),(0,I.Z)(n,"@media (min-width: @screen-md-min)",(0,I.Z)({},"".concat(a.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"})),n};function ue(r){return(0,ie.Xj)("LoginForm",function(a){var n=(0,s.Z)((0,s.Z)({},a),{},{componentCls:".".concat(r)});return[le(n)]})}var t=e(11527),ce=["logo","message","contentStyle","title","subTitle","actions","children"];function de(r){var a,n=r.logo,h=r.message,y=r.contentStyle,p=r.title,m=r.subTitle,S=r.actions,D=r.children,l=(0,R.Z)(r,ce),j=(0,ne.YB)(),M=l.submitter===!1?!1:(0,s.Z)((0,s.Z)({searchConfig:{submitText:j.getMessage("loginForm.submitText","\u767B\u5F55")}},l.submitter),{},{submitButtonProps:(0,s.Z)({size:"large",style:{width:"100%"}},(a=l.submitter)===null||a===void 0?void 0:a.submitButtonProps),render:function(u,v){var d,Z=v.pop();if(typeof(l==null||(d=l.submitter)===null||d===void 0?void 0:d.render)=="function"){var F,o;return l==null||(F=l.submitter)===null||F===void 0||(o=F.render)===null||o===void 0?void 0:o.call(F,u,v)}return Z}}),N=(0,f.useContext)(re.ZP.ConfigContext),A=N.getPrefixCls("pro-form-login"),B=ue(A),b=B.wrapSSR,P=B.hashId,i=function(u){return"".concat(A,"-").concat(u," ").concat(P)},c=(0,f.useMemo)(function(){return n?typeof n=="string"?(0,t.jsx)("img",{src:n}):n:null},[n]);return b((0,t.jsxs)("div",{className:oe()(i("container"),P),children:[(0,t.jsxs)("div",{className:"".concat(i("top")," ").concat(P),children:[p||c?(0,t.jsxs)("div",{className:"".concat(i("header")),children:[c?(0,t.jsx)("span",{className:i("logo"),children:c}):null,p?(0,t.jsx)("span",{className:i("title"),children:p}):null]}):null,m?(0,t.jsx)("div",{className:i("desc"),children:m}):null]}),(0,t.jsxs)("div",{className:i("main"),style:(0,s.Z)({width:328},y),children:[(0,t.jsxs)(se.A,(0,s.Z)((0,s.Z)({isKeyPressSubmit:!0},l),{},{submitter:M,children:[h,D]})),S?(0,t.jsx)("div",{className:i("main-other"),children:S}):null]})]}))}var U=e(99912),H=e(78827),ve=e(62642),ge=e(36932),V=e(14314),he=["options","fieldProps","proFieldProps","valueEnum"],me=f.forwardRef(function(r,a){var n=r.options,h=r.fieldProps,y=r.proFieldProps,p=r.valueEnum,m=(0,R.Z)(r,he);return(0,t.jsx)(V.Z,(0,s.Z)({ref:a,valueType:"checkbox",valueEnum:(0,H.h)(p,void 0),fieldProps:(0,s.Z)({options:n},h),lightProps:(0,s.Z)({labelFormatter:function(){return(0,t.jsx)(V.Z,(0,s.Z)({ref:a,valueType:"checkbox",mode:"read",valueEnum:(0,H.h)(p,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:n},h),proFieldProps:y},m))}},m.lightProps),proFieldProps:y},m))}),fe=f.forwardRef(function(r,a){var n=r.fieldProps,h=r.children;return(0,t.jsx)(ve.Z,(0,s.Z)((0,s.Z)({ref:a},n),{},{children:h}))}),pe=(0,ge.G)(fe,{valuePropName:"checked"}),W=pe;W.Group=me;var xe=W,ye=e(43250),z=e(48629),Se=e(2115),k=e(98135),je=e(7396),Ze=e(10422),Pe=function(a){var n=a.content;return(0,t.jsx)(Se.Z,{style:{marginBottom:24},message:n,type:"error",showIcon:!0})},Fe=function(){var a=(0,f.useState)({}),n=E()(a,2),h=n[0],y=n[1],p=(0,f.useState)("account"),m=E()(p,2),S=m[0],D=m[1],l=(0,z.useModel)("@@initialState"),j=l.initialState,M=l.setInitialState,N=(0,ye.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),A=function(){var i=T()(x()().mark(function c(){var g,u;return x()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,j==null||(g=j.fetchUserInfo)===null||g===void 0?void 0:g.call(j);case 2:u=d.sent,u&&(0,Ze.flushSync)(function(){M(function(Z){return L()(L()({},Z),{},{currentUser:u})})});case 4:case"end":return d.stop()}},c)}));return function(){return i.apply(this,arguments)}}(),B=function(){var i=T()(x()().mark(function c(g){var u,v,d,Z;return x()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,w.x4)(L()(L()({},g),{},{type:S}));case 3:if(u=o.sent,u.status!=="ok"){o.next=12;break}return v="\u767B\u5F55\u6210\u529F\uFF01",k.ZP.success(v),o.next=9,A();case 9:return d=new URL(window.location.href).searchParams,z.history.push(d.get("redirect")||"/"),o.abrupt("return");case 12:console.log(u),y(u),o.next=21;break;case 16:o.prev=16,o.t0=o.catch(0),Z="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",console.log(o.t0),k.ZP.error(Z);case 21:case"end":return o.stop()}},c,null,[[0,16]])}));return function(g){return i.apply(this,arguments)}}(),b=h.status,P=h.type;return(0,t.jsxs)("div",{className:N,children:[(0,t.jsx)(z.Helmet,{children:(0,t.jsxs)("title",{children:["\u767B\u5F55","- ",je.Z.title]})}),(0,t.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,t.jsxs)(de,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,t.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"\u7CFB \u7EDF \u767B \u5F55",subTitle:"\u767B\u5F55\u6D4B\u8BD5",initialValues:{username:"admin",password:"ant.design",autoLogin:!0},onFinish:function(){var i=T()(x()().mark(function c(g){return x()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,B(g);case 2:case"end":return v.stop()}},c)}));return function(c){return i.apply(this,arguments)}}(),children:[b==="error"&&P==="account"&&(0,t.jsx)(Pe,{content:"\u9519\u8BEF\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801(admin/ant.design)"}),S==="account"&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Z,{name:"username",fieldProps:{size:"large",prefix:(0,t.jsx)(J.Z,{})},placeholder:"\u7528\u6237\u540D: admin or user",rules:[{required:!0,message:"\u7528\u6237\u540D\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,t.jsx)(U.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(te,{})},placeholder:"\u5BC6\u7801: ant.design",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]})]}),(0,t.jsxs)("div",{style:{marginBottom:24},children:[(0,t.jsx)(xe,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,t.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801 ?"})]})]})}),(0,t.jsx)($.Z,{})]})},Ce=Fe}}]);
